
@using LearnItAll.Models.Skillblueprints
@model PartDetail
@{
	if(@Model == null) return; //to shutup the compiler error regarding possible null
}

		
	<li id="delete-part_@Model.Part.Id" class="list-group-item p-3">
		<div class="myfaded toggle-me collapse show" style="padding-left: @(Model.IdentationLevel * 15)px;">
			<div class="row justify-content-start">
				<div class="col-sm-6">
						<div  hx-boost="true"
						    hx-target="#delete-part_@Model.Part.Id"
						    hx-swap="outerHTML settle:1s">
											<form asp-page-handler="Delete" Method="post" id="form-delete_@Model.Part.Id" >
														<input  name="DeletePartModel.PartId" id="DeletePartModel_PartId_@Model.Part.Id" value=@Model.Part.Id class="form-control" type="hidden" >
														<input  name="DeletePartModel.BlueprintId" id="DeletePartModel.BlueprintId_@Model.Part.Id" value=@Model.BlueprintId class="form-control" type="hidden" >
														<div class="input-group">
															<button type="submit" class="btn btn-outline-secondary"><i class="bi bi-trash"></i></button>
															<div class="form-control fw-bold text-break">@Model.Part.Name</div>
														</div>											
											</form>
						</div>
				</div>
				<div class="col-sm-6">
					<div  hx-boost="true"
					        hx-target="#children_@Model.Part.Id"
					        hx-swap="afterbegin settle:1s">
											<form asp-page-handler="Add" method="post" id="form-@Model.Part.Id" >
													<div class="input-group">
															<i class="bi bi-arrow-return-right input-group-text d-none d-lg-block"></i>
														<input name="AddPartModel.Name" id="AddPartModel_Name_@Model.Part.Id" class="form-control" placeholder="Add child" value="">
														<input  name="AddPartModel.ParentId" id="AddPartModel_ParentId_@Model.Part.Id" value=@Model.Part.Id class="form-control" type="hidden" >
														<input  name="AddPartModel.BlueprintId" id="AddPartModel.BlueprintId_@Model.Part.Id" value=@Model.BlueprintId class="form-control" type="hidden" >
														<input  name="IdentationLevel" id="IdentationLevel_@Model.Part.Id" value=@Model.IdentationLevel class="form-control" type="hidden" >
														
														<button type="submit" class="btn btn-outline-secondary" style="font-size: 1.0rem; color: cornflowerblue;">+</button>
													</div>
											</form>
					</div>
				</div>
			</div>
		</div>
		<ul id="children_@Model.Part.Id">
		</ul>
	</li>
		
